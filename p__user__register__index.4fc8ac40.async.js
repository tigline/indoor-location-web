"use strict";(self.webpackChunkheyanai_navigation=self.webpackChunkheyanai_navigation||[]).push([[907],{94149:function(U,f,e){e.d(f,{Z:function(){return M}});var m=e(1413),n=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},d=D,h=e(98615),c=function(g,j){return n.createElement(h.Z,(0,m.Z)((0,m.Z)({},g),{},{ref:j,icon:d}))};c.displayName="LockOutlined";var M=n.forwardRef(c)},5966:function(U,f,e){var m=e(1413),n=e(91),D=e(67294),d=e(86682),h=e(85893),c=["fieldProps","proFieldProps"],M=["fieldProps","proFieldProps"],p="text",g=function(_){var o=_.fieldProps,s=_.proFieldProps,i=(0,n.Z)(_,c);return(0,h.jsx)(d.Z,(0,m.Z)({valueType:p,fieldProps:o,filedConfig:{valueType:p},proFieldProps:s},i))},j=function(_){var o=_.fieldProps,s=_.proFieldProps,i=(0,n.Z)(_,M);return(0,h.jsx)(d.Z,(0,m.Z)({valueType:"password",fieldProps:o,proFieldProps:s,filedConfig:{valueType:p}},i))},E=g;E.Password=j,E.displayName="ProFormComponent",f.Z=E},95787:function(U,f,e){e.r(f);var m=e(15009),n=e.n(m),D=e(97857),d=e.n(D),h=e(13769),c=e.n(h),M=e(99289),p=e.n(M),g=e(99702),j=e(95629),E=e(69851),T=e(87547),_=e(94149),o=e(34994),s=e(5966),i=e(19922),t=e(48141),a=e(54689),K=e(71230),R=e(15746),y=e(71577),F=e(25514),H=e(67294),Z=e(67610),r=e(85893),w=["confirm","username"],S=function(){var B=(0,i.l)(function(P){var A=P.token;return{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:A.borderRadius,":hover":{backgroundColor:A.colorBgTextHover}}});return(0,r.jsx)("div",{className:B,"data-lang":!0,children:t.SelectLang&&(0,r.jsx)(t.SelectLang,{})})},z=function(){var B=(0,i.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),P=(0,t.useIntl)(),A=function(){var b=p()(n()().mark(function v(O){var C,l,x,L,W,I;return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,C=O.confirm,l=O.username,x=c()(O,w),console.log(C),u.next=5,(0,j.z2)(d()(d()({username:l},x),{},{nickname:l,email:l}));case 5:if(L=u.sent,!(L.code===E.OK&&L.data)){u.next=12;break}return W=P.formatMessage({id:"pages.register.success",defaultMessage:"\u6CE8\u518C\u6210\u529F\uFF01"}),a.Z.success({message:W}),I=new URL(window.location.href).searchParams,t.history.push(I.get("redirect")||"/"),u.abrupt("return");case 12:console.log(L),u.next=17;break;case 15:u.prev=15,u.t0=u.catch(0);case 17:case"end":return u.stop()}},v,null,[[0,15]])}));return function(O){return b.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:B,children:[(0,r.jsx)(t.Helmet,{children:(0,r.jsxs)("title",{children:[P.formatMessage({id:"menu.register",defaultMessage:"\u6CE8\u518C\u9875"}),"- ",Z.Z.title]})}),(0,r.jsx)(S,{}),(0,r.jsx)("div",{style:{width:520,margin:"auto"},children:(0,r.jsxs)(o.A,{style:{minWidth:380,maxWidth:"75vw"},title:"Ant Design",initialValues:{autoLogin:!0},submitter:{render:function(){return(0,r.jsxs)(K.Z,{children:[(0,r.jsx)(R.Z,{span:"12",children:(0,r.jsx)(y.ZP,{block:!0,type:"primary",htmlType:"submit",children:P.formatMessage({id:"menu.register",defaultMessage:"\u6CE8\u518C"})})}),(0,r.jsx)(R.Z,{span:"12",children:(0,r.jsx)(t.Link,{to:"/user/login",style:{float:"right"},children:P.formatMessage({id:"pages.register.link.login",defaultMessage:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})})]})}},onFinish:function(){var b=p()(n()().mark(function v(O){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,A(O);case 2:case"end":return l.stop()}},v)}));return function(v){return b.apply(this,arguments)}}(),children:[(0,r.jsx)(F.Z.Title,{level:3,children:(0,r.jsx)(t.FormattedMessage,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C\u8D26\u6237"})}),(0,r.jsx)(s.Z,{name:"username",fieldProps:{size:"large",prefix:(0,r.jsx)(T.Z,{})},placeholder:P.formatMessage({id:"pages.register.email",defaultMessage:"\u90AE\u7BB1"}),rules:[{type:"email",message:(0,r.jsx)(t.FormattedMessage,{id:"pages.login.username.email.validator.required",defaultMessage:"\u8BF7\u4F7F\u7528\u90AE\u7BB1\u6CE8\u518C"})},{required:!0,message:(0,r.jsx)(t.FormattedMessage,{id:"pages.register.email.required",defaultMessage:"\u8BF7\u8F93\u5165\u90AE\u7BB1!"})}]}),(0,r.jsx)(s.Z.Password,{name:"password",placeholder:P.formatMessage({id:"pages.register.password.placeholder",defaultMessage:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"}),fieldProps:{size:"large",prefix:(0,r.jsx)(_.Z,{})},dependencies:["confirm"],rules:[{required:!0,message:(0,r.jsx)(t.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),(0,r.jsx)(s.Z.Password,{name:"confirm",placeholder:P.formatMessage({id:"pages.register.confirm",defaultMessage:"\u786E\u8BA4\u5BC6\u7801"}),fieldProps:{size:"large",prefix:(0,r.jsx)(_.Z,{})},dependencies:["password"],rules:[function(b){var v=b.getFieldValue;return{validator:function(C,l){return!l||v("password")===l?Promise.resolve():Promise.reject(new Error("The two passwords that you entered do not match!"))}}},{required:!0,message:(0,r.jsx)(t.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})}),(0,r.jsx)(g.Z,{})]})};f.default=z},95629:function(U,f,e){e.d(f,{x4:function(){return p},z2:function(){return T}});var m=e(15009),n=e.n(m),D=e(97857),d=e.n(D),h=e(99289),c=e.n(h),M=e(48141);function p(o,s){return g.apply(this,arguments)}function g(){return g=c()(n()().mark(function o(s,i){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,M.request)("/api/v1/login",d()({method:"POST",headers:{"Content-Type":"application/json"},data:s},i||{})));case 1:case"end":return a.stop()}},o)})),g.apply(this,arguments)}function j(o,s){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function o(s,i){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/v1/refreshToken",_objectSpread({method:"POST",params:_objectSpread({},s)},i||{})));case 1:case"end":return a.stop()}},o)})),E.apply(this,arguments)}function T(o,s){return _.apply(this,arguments)}function _(){return _=c()(n()().mark(function o(s,i){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,M.request)("/api/v1/register",d()({method:"POST",headers:{"Content-Type":"application/json"},data:s},i||{})));case 1:case"end":return a.stop()}},o)})),_.apply(this,arguments)}}}]);
