"use strict";(self.webpackChunkheyanai_navigation=self.webpackChunkheyanai_navigation||[]).push([[153],{89512:function(le,G,n){n.d(G,{v:function(){return q}});var J=n(48141),A=n(86738),k=n(71577),B=n(85893);function q(S){var C,W,Z,X,K=(0,J.useIntl)();return(0,B.jsx)(A.Z,{title:(C=S.title)!==null&&C!==void 0?C:K.formatMessage({id:"app.remove.confirm.title",defaultMessage:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u6B64\u9879\u5417?"}),description:(W=S.title)!==null&&W!==void 0?W:K.formatMessage({id:"app.remove.confirm.description",defaultMessage:"\u5220\u9664\u6B64\u9879"}),okButtonProps:{loading:S.loading},getPopupContainer:S.getPopupContainer,onConfirm:function(){var H;return S==null||(H=S.onClick)===null||H===void 0?void 0:H.call(S)},children:!S.children&&(0,B.jsx)(k.ZP,{type:(Z=S.type)!==null&&Z!==void 0?Z:"link",size:(X=S.size)!==null&&X!==void 0?X:"small",disabled:S.disabled,children:(0,B.jsx)(J.FormattedMessage,{id:"app.remove",defaultMessage:"\u5220\u9664"})})})}},23809:function(le,G,n){n.d(G,{$:function(){return C}});var J=n(97857),A=n.n(J),k=n(64317),B=n(48141),q=n(67294),S=n(85893);function C(W){var Z,X=(0,B.useIntl)(),K=(0,B.useModel)("mapModel"),ae=K.run,H=K.options,te=K.loading,U=K.initialValue;return q.useEffect(function(){ae()},[]),(0,S.jsx)(k.Z,A()(A()({},W),{},{rules:[{required:!0,message:X.formatMessage({id:"pages.device-manage.track.map.required",defaultMessage:"\u8BF7\u9009\u62E9\u5730\u56FE"})}],width:"lg",name:"mapId",style:{width:240},fieldProps:{loading:te},initialValue:(Z=W.initialValue)!==null&&Z!==void 0?Z:U,options:H}))}},46099:function(le,G,n){n.r(G),n.d(G,{default:function(){return Oe}});var J=n(97857),A=n.n(J),k=n(13769),B=n.n(k),q=n(89512),S=n(5574),C=n.n(S),W=n(19632),Z=n.n(W),X=n(87888),K=n(32240),ae=n(45968),H=n(30692),te=n(92138),U=n(62466),de=n(67135),ce=n(96486),E=n(67294),c=n(85893),V=10;function N(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=_slicedToArray(e,2),g=y[0],t=y[1],m=r-t;return metersToLngLat([g*V,m*V])}function fe(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=(0,U.lngLatToMeters)(e),g=C()(y,2),t=g[0],m=g[1];return[t/V,r-m/V]}function We(e){var r,y=_slicedToArray(e.rect,2),g=y[0],t=y[1],m=React.useState(),P=_slicedToArray(m,2),i=P[0],O=P[1],p=React.useState(!1),j=_slicedToArray(p,2),T=j[0],l=j[1],f=React.useRef(null),a=React.useRef(),s=React.useRef(),M=React.useRef(),L=React.useRef(),o=React.useRef(),v=React.useRef(),h=React.useRef(),D=React.useRef(),w=React.useRef();return React.useEffect(function(){var u;a.current=new Scene({id:f.current,map:new Mapbox({style:"blank",center:[0,0],pitch:0,zoom:20,minZoom:18})}),a.current.addImage("stationIcon",stationImage),a.current.addImage("arrow",arrow),a.current.addImage("personImage",person),a.current.addImage("warning",warning),(u=a.current)===null||u===void 0||u.on("loaded",function(){return O(!0)})},[]),React.useEffect(function(){if(e.map&&i&&t&&g)if(M.current)M.current.setData(e.map),M.current.setIndex(0);else{var u,d;M.current=new ImageLayer({zIndex:0});var I=metersToLngLat([g*V,t*V]);M.current.source(e.map,{parser:{type:"image",extent:[0,0].concat(_toConsumableArray(I))}}),(u=a.current)===null||u===void 0||u.setCenter([I[0]/2,I[1]/2]),(d=a.current)===null||d===void 0||d.addLayer(M.current)}},[e.map,i,t,g]),React.useEffect(function(){if(a.current&&i&&t){if(s.current=new DrawPolygon(a.current,{distanceOptions:{showTotalDistance:!1,showDashDistance:!0,format:function(I){return I>=1e3?+(I/V/1e3).toFixed(2)+"km":+(I/V).toFixed(2)+"m"}},liveUpdate:!0}),s.current.on(DrawEvent.Init,function(){l(!0)}),e.drawEnable){var u;(u=s.current)===null||u===void 0||u.enable()}e.drawRef&&(e.drawRef.current=s.current)}},[i,t]),React.useEffect(function(){if(e.drawEnable&&T&&s.current){var u;(u=s.current)===null||u===void 0||u.enable()}else{var d;(d=s.current)===null||d===void 0||d.disable()}},[e.drawEnable,T]),React.useEffect(function(){if(i&&t&&!isEmpty(e.stations)){var u,d,I=(u=(d=e.stations)!==null&&d!==void 0?d:[])===null||u===void 0?void 0:u.map(function(x){var F=N([x.setX,x.setY],t),b=_slicedToArray(F,2),ee=b[0],ne=b[1];return _objectSpread(_objectSpread({},x),{},{lng:ee,lat:ne})});if(L.current)L.current.setData(I),L.current.setIndex(3);else{var R;L.current=new PointLayer({zIndex:3}).source(I,{parser:{type:"json",x:"lng",y:"lat",name:"name"}}).shape("name",["stationIcon"]).size(10),(R=a.current)===null||R===void 0||R.addLayer(L.current)}}},[e.stations,i,t]),React.useEffect(function(){if(i&&t){for(var u,d=(u=e.beacons)!==null&&u!==void 0?u:[],I=d==null?void 0:d.map(function(ue){var Ke=N([ue.posX,ue.posY],t),Ie=_slicedToArray(Ke,2),Ue=Ie[0],Be=Ie[1];return _objectSpread(_objectSpread({},ue),{},{lng:Ue,lat:Be})}),R=[],x=0;x<d.length;x++){var F=d[x],b=d[x+1];if(b){var ee=N([F.posX,F.posY],t),ne=_slicedToArray(ee,2),we=ne[0],ze=ne[1],Ae=N([b.posX,b.posY],t),he=_slicedToArray(Ae,2),Ze=he[0],be=he[1];R.push(_objectSpread(_objectSpread({},F),{},{lng:we,lat:ze,lng1:Ze,lat1:be}))}}if(o.current)isEmpty(e.beacons)?o.current.hide():(o.current.show(),o.current.setData(R),o.current.setIndex(3));else{var ie;o.current=new LineLayer({zIndex:3}).source(R,{parser:{type:"json",x:"lng",y:"lat",x1:"lng1",y1:"lat1"}}).shape("line").size(2).color(green[3]).animate({interval:.4,duration:1,trailLength:.8}).style({lineTexture:!0,iconStep:20}),(ie=a.current)===null||ie===void 0||ie.addLayer(o.current)}if(v.current)isEmpty(e.beacons)?v.current.hide():(v.current.show(),v.current.setData(I),v.current.setIndex(4));else{var se;v.current=new PointLayer({zIndex:4}).source(I,{parser:{type:"json",x:"lng",y:"lat",name:"name"}}).shape("circle").color(green[3]).size(5),(se=a.current)===null||se===void 0||se.addLayer(v.current)}}},[e.beacons,i,t]),React.useEffect(function(){if(i&&e.fence&&t&&!isEmpty(e.fence.points)){var u,d=(u=e.fence.points)!==null&&u!==void 0?u:[],I={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[d.map(function(x){return N([x.x,x.y],t)})]}}]};if(w.current)w.current.setData(I),w.current.setIndex(2);else{var R;w.current=new PolygonLayer({zIndex:2}).source(I).shape("fill").color(e.fence.type==="In"?green[4]:gold[4]).style({opacity:.6}),(R=a.current)===null||R===void 0||R.addLayer(w.current),console.log("fenceLayer.current",w.current)}}},[e.fence,i,t]),React.useEffect(function(){if(i&&t){var u,d,I=(u=(d=e.locations)===null||d===void 0?void 0:d.map(function(F){return N([F.posX,F.posY],t)}))!==null&&u!==void 0?u:[],R={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[I]}}]};if(h.current)h.current.setData(R),h.current.setIndex(3);else{var x;h.current=new PointLayer({name:"real-time",zIndex:3,layerType:"fillImage"}).source(R).color(green[3]).size(15).shape("personImage",["personImage"]).animate(!0),(x=a.current)===null||x===void 0||x.addLayer(h.current)}}},[e.locations,i,t]),React.useEffect(function(){if(i&&t&&!isEmpty(e.alarms)){var u,d,I=(u=(d=e.alarms)===null||d===void 0?void 0:d.map(function(F){return N([F.point.x,F.point.y],t)}))!==null&&u!==void 0?u:[],R={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[I]}}]};if(D.current)D.current.setData(R),D.current.setIndex(10);else{var x;D.current=new PointLayer({zIndex:10,layerType:"fillImage"}).source(R).color(green[3]).size(15).shape("warning",["warning"]).animate(!0),(x=a.current)===null||x===void 0||x.addLayer(D.current)}}},[e.alarms,i,t]),_jsx(React.Fragment,{children:_jsx(Card,{bodyStyle:{padding:0},children:_jsx("div",{id:"map",ref:f,style:{minHeight:(r=e.height)!==null&&r!==void 0?r:600}})})})}var xe=n(67058),pe=n(4393),Y=10;function Re(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=C()(e,2),g=y[0],t=y[1],m=r-t;return(0,U.metersToLngLat)([g*Y,m*Y])}function Ve(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=lngLatToMeters(e),g=_slicedToArray(y,2),t=g[0],m=g[1];return[t/Y,r-m/Y]}function re(e){var r,y=C()(e.rect,2),g=y[0],t=y[1],m=E.useState(),P=C()(m,2),i=P[0],O=P[1],p=E.useState(!1),j=C()(p,2),T=j[0],l=j[1],f=E.useRef(null),a=E.useRef(),s=E.useRef(),M=E.useRef(),L=E.useRef();return E.useEffect(function(){var o;a.current=new U.Scene({id:f.current,map:new U.Mapbox({style:"blank",center:[0,0],pitch:0,zoom:20,minZoom:18})}),a.current.addImage("stationIcon",ae.Z),a.current.addImage("arrow",X.Z),a.current.addImage("personImage",K.Z),a.current.addImage("warning",H.Z),(o=a.current)===null||o===void 0||o.on("loaded",function(){return O(!0)})},[]),E.useEffect(function(){if(e.map&&i&&t&&g){var o=(0,U.metersToLngLat)([g*Y,t*Y]);if(M.current)M.current.setData(e.map,{parser:{type:"image",extent:[0,0].concat(Z()(o))}}),M.current.setIndex(0);else{var v,h;M.current=new U.ImageLayer({zIndex:0}),M.current.source(e.map,{parser:{type:"image",extent:[0,0].concat(Z()(o))}}),(v=a.current)===null||v===void 0||v.setCenter([o[0]/2,o[1]/2]),(h=a.current)===null||h===void 0||h.addLayer(M.current)}}},[e.map,i,t,g]),E.useEffect(function(){if(a.current&&i&&t){if(s.current=new de.DrawPolygon(a.current,{initialData:e==null?void 0:e.initialData,distanceOptions:{showTotalDistance:!1,showDashDistance:!0,format:function(h){return h>=1e3?+(h/Y/1e3).toFixed(2)+"km":+(h/Y).toFixed(2)+"m"}},liveUpdate:!0}),s.current.on(de.DrawEvent.Init,function(){l(!0)}),e.drawEnable){var o;(o=s.current)===null||o===void 0||o.enable()}e.drawRef&&(e.drawRef.current=s.current)}},[i,t]),E.useEffect(function(){if(e.drawEnable&&T&&s.current){var o;(o=s.current)===null||o===void 0||o.enable()}else{var v;(v=s.current)===null||v===void 0||v.disable()}},[e.drawEnable,T]),E.useEffect(function(){if(i&&e.fence&&t){var o,v=(o=e.fence.points)!==null&&o!==void 0?o:[],h={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[v.map(function(w){return Re([w.x,w.y],t)})]}}]};if(L.current)L.current.setData(h),L.current.setIndex(2);else{var D;L.current=new U.PolygonLayer({zIndex:2,name:"fence-layout"}).source(h).shape("fill").color(e.fence.type==="In"?te.ek[4]:te.EV[4]).style({opacity:.6}),(D=a.current)===null||D===void 0||D.addLayer(L.current)}}},[e.fence,i,t]),(0,c.jsx)(E.Fragment,{children:(0,c.jsx)(pe.Z,{bodyStyle:{padding:0},children:(0,c.jsx)("div",{id:"map",ref:f,style:{minHeight:(r=e.height)!==null&&r!==void 0?r:600}})})})}var ve=n(23809),$=n(491),_=n(69851),oe=n(37476),me=n(5966),ge=n(64317),ye=n(97462),z=n(48141),Me=n(12029),Q=n(71577);function Le(e){var r=(0,z.useIntl)(),y=Me.Z.useForm(),g=C()(y,1),t=g[0],m=(0,z.useModel)("mapModel"),P=m.run,i=m.data;E.useEffect(function(){P()},[]);var O=E.useRef(),p=E.useMemo(function(){var l,f=i==null?void 0:i.find(function(s){return s.mapId===e.record.mapId}),a=(l=e.record.points)===null||l===void 0?void 0:l.map(function(s){var M,L=s.x,o=s.y;return(0,xe.qS)([L,o],(M=f==null?void 0:f.width)!==null&&M!==void 0?M:0)});if(!(0,ce.isEmpty)(a))return(0,ce.compact)([{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[a!=null?a:[]]}}])},[]),j=(0,z.useRequest)($.p3,{manual:!0,formatResult:function(f){return f},onSuccess:function(f){if(f.code===_.OK){var a;(a=e.refresh)===null||a===void 0||a.call(e)}}}),T=j.run;return(0,c.jsxs)(oe.Y,{title:r.formatMessage({id:"pages.system.fence-manage.edit",defaultMessage:"\u7F16\u8F91\u56F4\u680F"}),layout:"horizontal",form:t,labelCol:{xs:6},wrapperCol:{xs:16},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},trigger:(0,c.jsx)(Q.ZP,{type:"link",size:"small",children:r.formatMessage({id:"app.edit",defaultMessage:"\u7F16\u8F91"})}),onFinish:function(f){var a,s,M=(a=O.current)===null||a===void 0?void 0:a.getPolygonData(),L=i==null?void 0:i.find(function(v){return v.mapId===f.mapId}),o=(s=M==null?void 0:M.map(function(v){var h,D=(h=v.geometry.coordinates)===null||h===void 0?void 0:h[0];return D.map(function(w){var u=w!=null?w:[],d=C()(u,2),I=d[0],R=d[1],x=fe([I,R],L==null?void 0:L.width),F=C()(x,2),b=F[0],ee=F[1];return{x:b,y:ee}})}))!==null&&s!==void 0?s:[];return console.log(o),Promise.all(o.map(function(v){return T({fenceId:e.record.fenceId},A()(A()({},f),{},{points:v}))})).then(function(v){return v.reduce(function(h,D){return h&&D.code===_.OK},!0)})},children:[(0,c.jsx)(ve.$,{initialValue:e.record.mapId,label:r.formatMessage({id:"pages.system.fence-manage.add.map.select",defaultMessage:"\u5730\u56FE\u9009\u62E9"}),rules:[{required:!0,message:r.formatMessage({id:"pages.system.fence-manage.add.map.select.required.failure",defaultMessage:"\u8BF7\u9009\u62E9\u5730\u56FE"})}]}),(0,c.jsx)(me.Z,{initialValue:e.record.name,label:r.formatMessage({id:"pages.system.fence-manage.fence.name",defaultMessage:"\u56F4\u680F\u540D\u79F0"}),name:"name",rules:[{required:!0,message:r.formatMessage({id:"pages.system.fence-manage.fence.name.required.failure",defaultMessage:"\u8BF7\u586B\u5199\u56F4\u680F\u540D\u79F0"})}]}),(0,c.jsx)(ge.Z,{initialValue:e.record.type,label:r.formatMessage({id:"pages.system.fence-manage.fence.type",defaultMessage:"\u56F4\u680F\u7C7B\u578B"}),name:"type",valueEnum:{In:r.formatMessage({id:"pages.system.fence-manage.fence.type.in",defaultMessage:"\u8FDB\u5165"}),Out:r.formatMessage({id:"pages.system.fence-manage.fence.type.out",defaultMessage:"\u79BB\u5F00"})},rules:[{required:!0,message:r.formatMessage({id:"pages.system.fence-manage.fence.type.required.failure",defaultMessage:"\u8BF7\u9009\u62E9\u56F4\u680F\u7C7B\u578B"})}]}),(0,c.jsx)(ye.Z,{name:["mapId"],children:function(f){var a=f.mapId,s=i==null?void 0:i.find(function(M){return M.mapId===a});return(0,c.jsx)(re,{drawRef:O,initialData:p,map:s==null?void 0:s.picture,drawEnable:!0,rect:[s==null?void 0:s.length,s==null?void 0:s.width]})}})]})}var Ee=n(90930),je=n(45446),Ce=n(51042);function Pe(e){var r=(0,z.useIntl)(),y=Me.Z.useForm(),g=C()(y,1),t=g[0],m=(0,z.useModel)("mapModel"),P=m.run,i=m.data;E.useEffect(function(){P()},[]);var O=E.useRef(),p=(0,z.useRequest)($.vE,{manual:!0,fetchKey:function(l){return l.mapId},formatResult:function(l){return l},onSuccess:function(l){if(l.code===_.OK){var f;(f=e.refresh)===null||f===void 0||f.call(e)}}}),j=p.run;return(0,c.jsxs)(oe.Y,{title:r.formatMessage({id:"pages.system.fence-manage.add",defaultMessage:"\u6DFB\u52A0\u56F4\u680F"}),layout:"horizontal",form:t,labelCol:{xs:6},wrapperCol:{xs:16},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},trigger:(0,c.jsxs)(Q.ZP,{type:"primary",children:[(0,c.jsx)(Ce.Z,{}),r.formatMessage({id:"app.action.add",defaultMessage:"\u65B0\u5EFA"})]}),onFinish:function(l){var f,a,s=(f=O.current)===null||f===void 0?void 0:f.getPolygonData(),M=i==null?void 0:i.find(function(o){return o.mapId===l.mapId}),L=(a=s==null?void 0:s.map(function(o){var v,h=(v=o.geometry.coordinates)===null||v===void 0?void 0:v[0];return h.map(function(D){var w=D!=null?D:[],u=C()(w,2),d=u[0],I=u[1],R=fe([d,I],M==null?void 0:M.width),x=C()(R,2),F=x[0],b=x[1];return{x:F,y:b}})}))!==null&&a!==void 0?a:[];return console.log(L),Promise.all(L.map(function(o){return j(A()(A()({},l),{},{points:o}))})).then(function(o){return o.reduce(function(v,h){return v&&h.code===_.OK},!0)})},children:[(0,c.jsx)(ve.$,{label:r.formatMessage({id:"pages.system.fence-manage.add.map.select",defaultMessage:"\u5730\u56FE\u9009\u62E9"}),rules:[{required:!0,message:r.formatMessage({id:"pages.system.fence-manage.add.map.select.required.failure",defaultMessage:"\u8BF7\u9009\u62E9\u5730\u56FE"})}]}),(0,c.jsx)(me.Z,{label:r.formatMessage({id:"pages.system.fence-manage.fence.name",defaultMessage:"\u56F4\u680F\u540D\u79F0"}),name:"name",rules:[{required:!0,message:r.formatMessage({id:"pages.system.fence-manage.fence.name.required.failure",defaultMessage:"\u8BF7\u586B\u5199\u56F4\u680F\u540D\u79F0"})}]}),(0,c.jsx)(ge.Z,{label:r.formatMessage({id:"pages.system.fence-manage.fence.type",defaultMessage:"\u56F4\u680F\u7C7B\u578B"}),name:"type",valueEnum:{In:r.formatMessage({id:"pages.system.fence-manage.fence.type.in",defaultMessage:"\u8FDB\u5165"}),Out:r.formatMessage({id:"pages.system.fence-manage.fence.type.out",defaultMessage:"\u79BB\u5F00"})},rules:[{required:!0,message:r.formatMessage({id:"pages.system.fence-manage.fence.type.required.failure",defaultMessage:"\u8BF7\u9009\u62E9\u56F4\u680F\u7C7B\u578B"})}]}),(0,c.jsx)(ye.Z,{name:["mapId"],children:function(l){var f=l.mapId,a=i==null?void 0:i.find(function(s){return s.mapId===f});return(0,c.jsx)(re,{drawRef:O,map:a==null?void 0:a.picture,drawEnable:!0,rect:[a==null?void 0:a.length,a==null?void 0:a.width]})}})]})}var De=n(54689);function Se(e){var r=(0,z.useIntl)(),y=(0,z.useRequest)($.tr,{manual:!0,onSuccess:function(m){if(m){var P;De.Z.success({message:r.formatMessage({id:"app.edit.success",defaultMessage:"\u66F4\u65B0\u6210\u529F"})}),(P=e.refresh)===null||P===void 0||P.call(e)}}}),g=y.run;return e.record.enabled?(0,c.jsx)(Q.ZP,{type:"link",size:"small",disabled:!e.record.fenceId,onClick:function(){return g({fenceId:e.record.fenceId})},children:r.formatMessage({id:"pages.system.fence-manage.fence.status.disable",defaultMessage:"\u7981\u7528"})}):(0,c.jsx)(Q.ZP,{type:"link",size:"small",disabled:!e.record.fenceId,onClick:function(){return g({fenceId:e.record.fenceId})},children:r.formatMessage({id:"pages.system.fence-manage.fence.status.enable",defaultMessage:"\u542F\u7528"})})}function Te(e){var r=(0,z.useIntl)(),y=(0,z.useModel)("mapModel"),g=y.run,t=y.data;E.useEffect(function(){g()},[]);var m=t==null?void 0:t.find(function(P){return P.mapId===e.record.mapId});return(0,c.jsx)(oe.Y,{title:r.formatMessage({id:"pages.system.fence-manage.view",defaultMessage:"\u67E5\u770B\u56F4\u680F"}),submitter:!1,trigger:(0,c.jsx)(Q.ZP,{type:"link",size:"small",children:(0,c.jsx)(z.FormattedMessage,{id:"app.view",defaultMessage:"\u67E5\u770B"})}),children:(0,c.jsx)(re,{map:m==null?void 0:m.picture,rect:[m==null?void 0:m.length,m==null?void 0:m.width],fence:e.record})})}var Fe=["current","pageSize"];function Oe(){var e=(0,z.useIntl)(),r=new Map;r.set(!0,e.formatMessage({id:"pages.system.fence-manage.fence.status.enable",defaultMessage:"\u542F\u7528"})),r.set(!1,e.formatMessage({id:"pages.system.fence-manage.fence.status.disable",defaultMessage:"\u7981\u7528"}));var y=(0,z.useRequest)($.aW,{manual:!0,fetchKey:function(p){return p.fenceId}}),g=y.run,t=y.fetches,m=(0,z.useRequest)($.as,{manual:!0,formatResult:function(p){return(0,_.LF)(p)}}),P=m.run,i=[{title:e.formatMessage({id:"pages.system.fence-manage.map.name",defaultMessage:"\u5730\u56FE\u540D\u79F0"}),dataIndex:"mapName"},{title:e.formatMessage({id:"pages.system.fence-manage.fence.name",defaultMessage:"\u56F4\u680F\u540D\u79F0"}),dataIndex:"name"},{title:e.formatMessage({id:"pages.system.fence-manage.fence.type",defaultMessage:"\u56F4\u680F\u7C7B\u578B"}),dataIndex:"type",valueEnum:{In:e.formatMessage({id:"pages.system.fence-manage.fence.type.in",defaultMessage:"\u8FDB\u5165"}),Out:e.formatMessage({id:"pages.system.fence-manage.fence.type.out",defaultMessage:"\u79BB\u5F00"})}},{title:e.formatMessage({id:"pages.system.fence-manage.fence.status",defaultMessage:"\u56F4\u680F\u72B6\u6001"}),dataIndex:"enabled",hideInForm:!0,valueEnum:r},{title:e.formatMessage({id:"app.action",defaultMessage:"\u64CD\u4F5C"}),valueType:"option",key:"option",render:function(p,j,T,l){var f;return(0,c.jsxs)(Q.ZP.Group,{children:[(0,c.jsx)(Se,{record:j,refresh:l==null?void 0:l.reload}),(0,c.jsx)(Te,{record:j}),(0,c.jsx)(Le,{record:j,refresh:l==null?void 0:l.reload}),(0,c.jsx)(q.v,{disabled:!j.fenceId,loading:t==null||(f=t[j.fenceId])===null||f===void 0?void 0:f.loading,onClick:function(){return g({fenceId:j.fenceId}).then(function(){return l==null?void 0:l.reload()})}})]})}}];return(0,c.jsx)(Ee._z,{childrenContentStyle:{padding:20},children:(0,c.jsx)(je.Z,{options:{setting:!1},columns:i,toolBarRender:function(p){return[(0,c.jsx)(Pe,{refresh:p==null?void 0:p.reload},"add")]},rowKey:function(p){return p.fenceId+""},request:function(p){var j=p.current,T=p.pageSize,l=B()(p,Fe);return P(A()({current:j+"",size:T+""},l))}})})}}}]);
