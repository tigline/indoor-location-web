"use strict";(self.webpackChunkheyanai_navigation=self.webpackChunkheyanai_navigation||[]).push([[194],{51042:function(V,R,e){var b=e(1413),h=e(67294),L=e(42110),s=e(98615),U=function(j,i){return h.createElement(s.Z,(0,b.Z)((0,b.Z)({},j),{},{ref:i,icon:L.Z}))};U.displayName="PlusOutlined",R.Z=h.forwardRef(U)},88923:function(V,R,e){e.d(R,{h:function(){return F}});var b=e(97857),h=e.n(b),L=e(15009),s=e.n(L),U=e(99289),a=e.n(U),j=e(59061),i=e(35312),_=e(69400),y=e(90156),T=e(96486),w=e.n(T),W=e(491),z=e(85893);function F(G){var N=(0,i.useIntl)();return(0,z.jsx)(j.Z,h()(h()({accept:"image/png",max:1,transform:function(B){var l,O,I={};return(0,T.set)(I,(l=G.name)!==null&&l!==void 0?l:"picture",(O=(0,T.first)(B))===null||O===void 0?void 0:O.response),I}},G),{},{fieldProps:{listType:"picture-card",onPreview:function(B){_.Z.warning({content:(0,z.jsx)(y.Z,{width:600,src:B.thumbUrl}),width:660-12,icon:" "})},customRequest:function(){var x=a()(s()().mark(function l(O){var I,S,A,d;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return I=O.file,S=new FormData,S.append("file",I),p.prev=3,p.next=6,(0,W.cT)(S);case 6:d=p.sent,console.log(d),(A=O.onSuccess)===null||A===void 0||A.call(O,d.data.url),p.next=14;break;case 11:p.prev=11,p.t0=p.catch(3),console.log(p.t0);case 14:case"end":return p.stop()}},l,null,[[3,11]])}));function B(l){return x.apply(this,arguments)}return B}()}}))}},89512:function(V,R,e){e.d(R,{v:function(){return U}});var b=e(35312),h=e(86738),L=e(71577),s=e(85893);function U(a){var j,i,_,y,T=(0,b.useIntl)();return(0,s.jsx)(h.Z,{title:(j=a.title)!==null&&j!==void 0?j:T.formatMessage({id:"app.remove.confirm.title",defaultMessage:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u6B64\u9879\u5417?"}),description:(i=a.title)!==null&&i!==void 0?i:T.formatMessage({id:"app.remove.confirm.description",defaultMessage:"\u5220\u9664\u6B64\u9879"}),okButtonProps:{loading:a.loading},getPopupContainer:a.getPopupContainer,onConfirm:function(){var W;return a==null||(W=a.onClick)===null||W===void 0?void 0:W.call(a)},children:!a.children&&(0,s.jsx)(L.ZP,{type:(_=a.type)!==null&&_!==void 0?_:"link",size:(y=a.size)!==null&&y!==void 0?y:"small",disabled:a.disabled,children:(0,s.jsx)(b.FormattedMessage,{id:"app.remove",defaultMessage:"\u5220\u9664"})})})}},46085:function(V,R,e){e.r(R),e.d(R,{default:function(){return A}});var b=e(97857),h=e.n(b),L=e(13769),s=e.n(L),U=e(89512),a=e(36255),j=e(69851),i=e(90930),_=e(45446),y=e(35312),T=e(54689),w=e(71577),W=e(5574),z=e.n(W),F=e(88923),G=e(51042),N=e(37476),x=e(5966),B=e(12029),l=e(85893);function O(d){var f=(0,y.useIntl)(),p=B.Z.useForm(),P=z()(p,1),$=P[0],C=(0,y.useRequest)(a.wD,{manual:!0,onSuccess:function(m){if(m){var v;(v=d.refresh)===null||v===void 0||v.call(d),T.Z.success({message:f.formatMessage({id:"app.add.success",defaultMessage:"\u65B0\u5EFA\u6210\u529F"})})}}}),Z=C.run;return(0,l.jsxs)(N.Y,{title:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.add",defaultMessage:"\u6DFB\u52A0\u4EBA\u5458\u7C7B\u578B"}),trigger:(0,l.jsx)(w.ZP,{type:"primary",icon:(0,l.jsx)(G.Z,{}),children:f.formatMessage({id:"app.add",defaultMessage:"\u65B0\u5EFA"})}),form:$,layout:"horizontal",labelCol:{xs:6},wrapperCol:{xs:16},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},onFinish:function(m){return Z(m)},children:[(0,l.jsx)(x.Z,{label:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0"}),name:"typeName",rules:[{required:!0,message:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name.required.failure",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0\u5FC5\u586B"})}]}),(0,l.jsx)(F.h,{label:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon",defaultMessage:"\u56FE\u6807"}),name:"picture",rules:[{message:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon.required.failure",defaultMessage:"\u8BF7\u4E0A\u4F20\u56FE\u6807"})}]})]})}function I(d){var f,p,P=(0,y.useIntl)(),$=B.Z.useForm(),C=z()($,1),Z=C[0],M=(0,y.useRequest)(a.b3,{manual:!0,onSuccess:function(K){if(K){var E;(E=d.refresh)===null||E===void 0||E.call(d),T.Z.success({message:P.formatMessage({id:"app.edit.success",defaultMessage:"\u66F4\u65B0\u6210\u529F"})})}}}),m=M.run;return(0,l.jsxs)(N.Y,{title:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.edit",defaultMessage:"\u7F16\u8F91\u4EBA\u5458\u7C7B\u578B"}),trigger:(0,l.jsx)(w.ZP,{disabled:!d.record.typeId,type:"link",size:"small",children:P.formatMessage({id:"app.edit",defaultMessage:"\u7F16\u8F91"})}),form:Z,layout:"horizontal",labelCol:{xs:6},wrapperCol:{xs:16},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},onFinish:function(K){return m({typeId:d.record.typeId},K)},children:[(0,l.jsx)(x.Z,{label:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0"}),initialValue:d.record.typeName,name:"typeName",rules:[{required:!0,message:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name.required.failure",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0\u5FC5\u586B"})}]}),(0,l.jsx)(F.h,{label:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon",defaultMessage:"\u56FE\u6807"}),initialValue:[{uid:Date.now()+"",response:(f=d.record)===null||f===void 0?void 0:f.picture,thumbUrl:(p=d.record)===null||p===void 0?void 0:p.picture}],name:"picture",rules:[{required:!0,message:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon.required.failure",defaultMessage:"\u8BF7\u4E0A\u4F20\u56FE\u6807"})}]})]})}var S=["current","pageSize"];function A(){var d=(0,y.useIntl)(),f=(0,y.useRequest)(a.Sl,{manual:!0,formatResult:function(m){return(0,j.LF)(m)}}),p=f.run,P=(0,y.useRequest)(a.tu,{manual:!0,fetchKey:function(m){return m.typeId+""},onSuccess:function(m){m&&T.Z.success({message:d.formatMessage({id:"app.remove.success",defaultMessage:"\u5220\u9664\u6210\u529F"})})}}),$=P.run,C=P.fetches,Z=[{title:d.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0"}),dataIndex:"typeName"},{title:d.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon",defaultMessage:"\u56FE\u6807"}),dataIndex:"picture",valueType:"image"},{title:d.formatMessage({id:"app.createTime",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),dataIndex:"createTime",valueType:"dateTime"},{title:d.formatMessage({id:"app.action",defaultMessage:"\u64CD\u4F5C"}),render:function(m,v,K,E){var Y;return(0,l.jsxs)(w.ZP.Group,{children:[(0,l.jsx)(I,{record:v,refresh:E==null?void 0:E.reload}),(0,l.jsx)(U.v,{disabled:!v.typeId,onClick:function(){return $({typeId:v.typeId}).then(function(){return E==null?void 0:E.reload()})},loading:C==null||(Y=C[v.typeId])===null||Y===void 0?void 0:Y.loading})]})}}];return(0,l.jsx)(i._z,{childrenContentStyle:{padding:20},children:(0,l.jsx)(_.Z,{columns:Z,search:!1,toolBarRender:function(m){return[(0,l.jsx)(O,{refresh:m==null?void 0:m.reload},"add")]},request:function(m){var v=m.current,K=m.pageSize,E=s()(m,S);return p(h()({current:v+"",size:K+""},E))},options:{setting:!1}})})}},36255:function(V,R,e){e.d(R,{BZ:function(){return B},Ge:function(){return $},If:function(){return S},Mq:function(){return p},Sl:function(){return K},b3:function(){return k},bY:function(){return Z},eQ:function(){return N},j4:function(){return O},sz:function(){return ee},tE:function(){return d},tu:function(){return q},wD:function(){return Y}});var b=e(13769),h=e.n(b),L=e(15009),s=e.n(L),U=e(97857),a=e.n(U),j=e(99289),i=e.n(j),_=e(35312),y=["depId"],T=["depId"],w=["personnelId"],W=["personnelId"],z=null,F=["typeId"],G=["typeId"];function N(t,r){return x.apply(this,arguments)}function x(){return x=i()(s()().mark(function t(r,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/v1/dep/personnel",a()({method:"GET",params:a()({current:"1",size:"10"},r)},o||{})));case 1:case"end":return n.stop()}},t)})),x.apply(this,arguments)}function B(t,r){return l.apply(this,arguments)}function l(){return l=i()(s()().mark(function t(r,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/v1/departments",a()({method:"POST",headers:{"Content-Type":"application/json"},data:r},o||{})));case 1:case"end":return n.stop()}},t)})),l.apply(this,arguments)}function O(t,r,o){return I.apply(this,arguments)}function I(){return I=i()(s()().mark(function t(r,o,u){var n,D;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=r.depId,D=h()(r,y),c.abrupt("return",(0,_.request)("/api/v1/departments/".concat(n),a()({method:"PUT",headers:{"Content-Type":"application/json"},params:a()({},D),data:o},u||{})));case 2:case"end":return c.stop()}},t)})),I.apply(this,arguments)}function S(t,r){return A.apply(this,arguments)}function A(){return A=i()(s()().mark(function t(r,o){var u,n;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return u=r.depId,n=h()(r,T),g.abrupt("return",(0,_.request)("/api/v1/departments/".concat(u),a()({method:"DELETE",params:a()({},n)},o||{})));case 2:case"end":return g.stop()}},t)})),A.apply(this,arguments)}function d(t,r){return f.apply(this,arguments)}function f(){return f=i()(s()().mark(function t(r,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/v1/personnel",a()({method:"GET",params:a()({current:"1",size:"10"},r)},o||{})));case 1:case"end":return n.stop()}},t)})),f.apply(this,arguments)}function p(t,r){return P.apply(this,arguments)}function P(){return P=i()(s()().mark(function t(r,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/v1/personnel",a()({method:"POST",headers:{"Content-Type":"application/json"},data:r},o||{})));case 1:case"end":return n.stop()}},t)})),P.apply(this,arguments)}function $(t,r,o){return C.apply(this,arguments)}function C(){return C=i()(s()().mark(function t(r,o,u){var n,D;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=r.personnelId,D=h()(r,w),c.abrupt("return",(0,_.request)("/api/v1/personnel/".concat(n),a()({method:"PUT",headers:{"Content-Type":"application/json"},params:a()({},D),data:o},u||{})));case 2:case"end":return c.stop()}},t)})),C.apply(this,arguments)}function Z(t,r){return M.apply(this,arguments)}function M(){return M=i()(s()().mark(function t(r,o){var u,n;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return u=r.personnelId,n=h()(r,W),g.abrupt("return",(0,_.request)("/api/v1/personnel/".concat(u),a()({method:"DELETE",params:a()({},n)},o||{})));case 2:case"end":return g.stop()}},t)})),M.apply(this,arguments)}function m(t,r){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function t(r,o){var u,n,D;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return u=r.personnelId,n=r.tag,D=_objectWithoutProperties(r,z),c.abrupt("return",request("/api/v1/personnel/".concat(u,"/").concat(n),_objectSpread({method:"DELETE",params:_objectSpread({},D)},o||{})));case 2:case"end":return c.stop()}},t)})),v.apply(this,arguments)}function K(t,r){return E.apply(this,arguments)}function E(){return E=i()(s()().mark(function t(r,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/v1/personnelTypes",a()({method:"GET",params:a()({current:"1",size:"10"},r)},o||{})));case 1:case"end":return n.stop()}},t)})),E.apply(this,arguments)}function Y(t,r){return Q.apply(this,arguments)}function Q(){return Q=i()(s()().mark(function t(r,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,_.request)("/api/v1/personnelTypes",a()({method:"POST",headers:{"Content-Type":"application/json"},data:r},o||{})));case 1:case"end":return n.stop()}},t)})),Q.apply(this,arguments)}function q(t,r){return H.apply(this,arguments)}function H(){return H=i()(s()().mark(function t(r,o){var u,n;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return u=r.typeId,n=h()(r,F),g.abrupt("return",(0,_.request)("/api/v1/personnelTypes/".concat(u),a()({method:"DELETE",params:a()({},n)},o||{})));case 2:case"end":return g.stop()}},t)})),H.apply(this,arguments)}function k(t,r,o){return J.apply(this,arguments)}function J(){return J=i()(s()().mark(function t(r,o,u){var n,D;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=r.typeId,D=h()(r,G),c.abrupt("return",(0,_.request)("/api/v1/personnelTypes/".concat(n),a()({method:"PUT",headers:{"Content-Type":"application/json"},params:a()({},D),data:o},u||{})));case 2:case"end":return c.stop()}},t)})),J.apply(this,arguments)}function ee(t){return X.apply(this,arguments)}function X(){return X=i()(s()().mark(function t(r){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,_.request)("/api/v1/treeDepartment",a()({method:"GET"},r||{})));case 1:case"end":return u.stop()}},t)})),X.apply(this,arguments)}}}]);
