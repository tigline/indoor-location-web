"use strict";(self.webpackChunkheyanai_navigation=self.webpackChunkheyanai_navigation||[]).push([[551],{51042:function(Z,x,e){var v=e(1413),m=e(67294),F=e(42110),P=e(98615),p=function(g,o){return m.createElement(P.Z,(0,v.Z)((0,v.Z)({},g),{},{ref:o,icon:F.Z}))};p.displayName="PlusOutlined",x.Z=m.forwardRef(p)},5966:function(Z,x,e){var v=e(1413),m=e(91),F=e(67294),P=e(86682),p=e(85893),d=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],o="text",M=function(y){var O=y.fieldProps,C=y.proFieldProps,R=(0,m.Z)(y,d);return(0,p.jsx)(P.Z,(0,v.Z)({valueType:o,fieldProps:O,filedConfig:{valueType:o},proFieldProps:C},R))},_=function(y){var O=y.fieldProps,C=y.proFieldProps,R=(0,m.Z)(y,g);return(0,p.jsx)(P.Z,(0,v.Z)({valueType:"password",fieldProps:O,proFieldProps:C,filedConfig:{valueType:o}},R))},i=M;i.Password=_,i.displayName="ProFormComponent",x.Z=i},9088:function(Z,x,e){e.r(x),e.d(x,{default:function(){return ee}});var v=e(5574),m=e.n(v),F=e(13769),P=e.n(F),p=e(97857),d=e.n(p),g=e(15009),o=e.n(g),M=e(99289),_=e.n(M),i=e(48141),L=["companyCode"],y=null;function O(){return C.apply(this,arguments)}function C(){return C=_()(o()().mark(function r(){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("/api/v1/companys",{method:"GET"}));case 1:case"end":return t.stop()}},r)})),C.apply(this,arguments)}function R(r,n){return I.apply(this,arguments)}function I(){return I=_()(o()().mark(function r(n,t){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,i.request)("/api/v1/company",d()({method:"POST",headers:{"Content-Type":"application/json"},data:n},t||{})));case 1:case"end":return a.stop()}},r)})),I.apply(this,arguments)}function H(r,n,t){return A.apply(this,arguments)}function A(){return A=_()(o()().mark(function r(n,t,u){var a,l;return o()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return a=n.companyCode,l=P()(n,L),f.abrupt("return",(0,i.request)("/api/v1/company/".concat(a),d()({method:"PUT",headers:{"Content-Type":"application/json"},params:d()({},l),data:t},u||{})));case 2:case"end":return f.stop()}},r)})),A.apply(this,arguments)}function ae(r,n){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,t){var u,a;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return u=n.companyCode,a=_objectWithoutProperties(n,y),c.abrupt("return",request("/api/v1/company/".concat(u),_objectSpread({method:"DELETE",params:_objectSpread({},a)},t||{})));case 2:case"end":return c.stop()}},r)})),U.apply(this,arguments)}function re(r,n){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,t){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/v1/models",_objectSpread({method:"GET",params:_objectSpread({},n)},t||{})));case 1:case"end":return a.stop()}},r)})),K.apply(this,arguments)}function ne(r,n){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,t){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/v1/model",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},t||{})));case 1:case"end":return a.stop()}},r)})),W.apply(this,arguments)}function te(r,n,t){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,t,u){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/api/v1/model/".concat(n),_objectSpread({method:"PUT",headers:{"Content-Type":"application/json"},data:t},u||{})));case 1:case"end":return l.stop()}},r)})),w.apply(this,arguments)}function oe(r,n){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,t){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/v1/model/".concat(n),_objectSpread({method:"DELETE"},t||{})));case 1:case"end":return a.stop()}},r)})),B.apply(this,arguments)}var J=e(90930),Q=e(45446),S=e(71577),$=e(67294),X=e(71466),b=e(69851),N=e(51042),z=e(37476),D=e(5966),V=e(12029),Y=e(54689),s=e(85893);function q(r){var n=V.Z.useForm(),t=m()(n,1),u=t[0],a=(0,i.useIntl)(),l=(0,$.useState)(""),c=m()(l,2),f=c[0],T=c[1];return(0,s.jsxs)(z.Y,{title:(0,s.jsx)(i.FormattedMessage,{id:"pages.device-manage.vendor.add",defaultMessage:"\u6DFB\u52A0\u5382\u5546"}),layout:"horizontal",form:u,labelCol:{xs:6},wrapperCol:{xs:16},width:550,onFinish:function(j){return R(d()(d()({},j),{},{companyCode:j.companyCode,companyName:j.companyName})).then(function(G){var E;return(E=r.refresh)===null||E===void 0||E.call(r),G.code===b.OK&&Y.Z.success({message:a.formatMessage({id:"app.add.success",defaultMessage:"\u65B0\u5EFA\u6210\u529F"})}),G.code===b.OK})},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},trigger:(0,s.jsxs)(S.ZP,{type:"primary",children:[(0,s.jsx)(N.Z,{}),a.formatMessage({id:"app.action.add",defaultMessage:"\u6DFB\u52A0"})]}),children:[(0,s.jsx)(D.Z,{width:"lg",name:"companyCode",label:a.formatMessage({id:"pages.device-manage.base-vendor.code",defaultMessage:"\u7F16\u7801"}),rules:[{required:!0,message:"\u8FD9\u662F\u5FC5\u586B\u9879"}],fieldProps:{suffix:(0,s.jsx)(S.ZP,{type:"default",onClick:function(){var j=(0,X.k)();u.setFieldsValue({companyCode:j})},children:a.formatMessage({id:"pages.device-manage.base-vendor.code.auto",defaultMessage:"\u81EA\u52A8\u751F\u6210"})})}}),(0,s.jsx)(D.Z,{width:"lg",name:"companyName",label:a.formatMessage({id:"pages.device-manage.base-station.device.name",defaultMessage:"\u540D\u79F0"}),rules:[{required:!0,message:"\u8FD9\u662F\u5FC5\u586B\u9879"}]})]})}function k(r){var n=V.Z.useForm(),t=m()(n,1),u=t[0],a=(0,i.useIntl)();return(0,s.jsxs)(z.Y,{title:(0,s.jsx)(i.FormattedMessage,{id:"pages.device-manage.vendor.edit",defaultMessage:"\u7F16\u8F91\u5382\u5546"}),layout:"horizontal",form:u,labelCol:{xs:6},wrapperCol:{xs:16},width:550,onFinish:function(c){return H({companyCode:r.record.companyCode||""},d()({companyName:c.companyCode},c)).then(function(f){var T;return(T=r.refresh)===null||T===void 0||T.call(r),f.code===b.OK&&Y.Z.success({message:a.formatMessage({id:"app.edit.success",defaultMessage:"\u7F16\u8F91\u6210\u529F"})}),f.code===b.OK})},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},trigger:(0,s.jsxs)(S.ZP,{type:"primary",children:[(0,s.jsx)(N.Z,{}),a.formatMessage({id:"app.action.edit",defaultMessage:"\u7F16\u8F91"})]}),children:[(0,s.jsx)(D.Z,{width:"lg",name:"companyCode",initialValue:r.record.companyCode,label:a.formatMessage({id:"pages.device-manage.base-vendor.code",defaultMessage:"\u7F16\u7801"}),fieldProps:{disabled:!0}}),(0,s.jsx)(D.Z,{width:"lg",name:"companyName",label:a.formatMessage({id:"pages.device-manage.base-station.device.name",defaultMessage:"\u540D\u79F0"}),rules:[{required:!0,message:"\u8FD9\u662F\u5FC5\u586B\u9879"}]})]})}function ee(){var r=(0,i.useIntl)(),n=(0,$.useState)([]),t=m()(n,2),u=t[0],a=t[1],l=(0,i.useRequest)(O,{manual:!0,formatResult:function(h){return h.data||[]}}),c=l.run;(0,$.useEffect)(function(){c().then(a)},[c]);var f=[{title:r.formatMessage({id:"pages.device-manage.vendor-manage.company.code",defaultMessage:"\u516C\u53F8\u7F16\u7801"}),dataIndex:"companyCode"},{title:r.formatMessage({id:"pages.device-manage.vendor-manage.company.name",defaultMessage:"\u516C\u53F8\u540D\u79F0"}),dataIndex:"companyName"},{title:r.formatMessage({id:"pages.device-manage.vendor-manage.company.createTime",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),dataIndex:"createTime"},{title:r.formatMessage({id:"app.action",defaultMessage:"\u64CD\u4F5C"}),valueType:"option",key:"option",render:function(h,j,G,E){return(0,s.jsxs)(S.ZP.Group,{children:[(0,s.jsx)(k,{record:j,refresh:E==null?void 0:E.reload}),(0,s.jsx)(S.ZP,{children:(0,s.jsx)(i.Link,{to:"/device-manage/vendor-manage/vendor-models.page/:".concat(0),children:r.formatMessage({id:"app.view",defaultMessage:"\u7BA1\u7406"})})},"view")]})}}];return(0,s.jsx)(J._z,{childrenContentStyle:{padding:20},children:(0,s.jsx)(Q.Z,{options:{setting:!1},columns:f,search:!1,dataSource:u,rowKey:"companyId",toolBarRender:function(h){return[(0,s.jsx)(q,{refresh:h==null?void 0:h.reload},"add")]}})})}},71466:function(Z,x,e){e.d(x,{k:function(){return P},q:function(){return F}});var v=e(5574),m=e.n(v);function F(p){var d={};p.forEach(function(o){o.deviceId!=null&&(o.deviceId in d?d[o.deviceId]++:d[o.deviceId]=1)});var g=Object.entries(d).map(function(o){var M=m()(o,2),_=M[0],i=M[1];return{deviceId:_,frequency:Number(i)}}).sort(function(o,M){return M.frequency-o.frequency});return g}function P(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){var d=Math.random()*16|0,g=p==="x"?d:d&3|8;return g.toString(16)})}}}]);
